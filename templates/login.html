{% extends "index.html" %}

{% block content %}
	{% from "macros.html" import login_form %}

	<div class="mt-5 mb-3">

        <h1 class="text-center">Password Generator</h1>
        <p class="text-center">Administrate your secure passwords</p>

    </div>
	<!-- It shows all the message that the server send to the view -->
	{% with messages = get_flashed_messages(with_categories=true) %}
	{% if messages %}
		{% for category, message in messages %}
			{% if category == 'success' %}
				<div class="alert alert-success text-center m-5" role="alert">
					<button type="button" class="close" data-dismiss="alert">&times;</button>
					{{ message }}
				</div>
			{% endif %}

			{% if category == 'error' %}
				<div class="alert alert-danger text-center m-5" role="alert">
					<button type="button" class="close" data-dismiss="alert">&times;</button>
					{{ message }}
				</div>
			{% endif %}
		{% endfor %}
	{% endif %}
	{% endwith %}
	
	<form action="" method="POST" class="d-flex justify-content-center">
		{{ form.csrf_token }}
		<div class="form-group w-25 mt-5">
			{{ login_form(form.username) }}
			{{ login_form(form.password) }}
			<div class="buttons d-flex justify-content-center">
				<button type="submit" class="btn btn-success m-2">Login</button>
				<a href="{{'/signin'}}"><button type="button" class="btn btn-secondary m-2">Signin</button></a>
			</div>
		</div>

	</form>
{% endblock %}